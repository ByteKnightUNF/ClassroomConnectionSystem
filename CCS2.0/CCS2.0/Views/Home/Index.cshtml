@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@model IEnumerable<ImageUpload.Models.ImageModel>

@{
    ViewData["Title"] = "Welcome";
}
<head>

</head>
<div class="text-center">

    @if (SignInManager.IsSignedIn(User))
    {
        <h1 class="display-4">Admin Dashboard</h1>

        <style>
            #Admin_View:link, #Admin_View:visited {
                border-style: solid;
                border-color: darkblue;
                box-shadow: 5px 10px darkblue;
                padding: 50px 25px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
            }

            #Admin_View:hover, #Admin_View:active {
                background-color: darkorange;
            }
        </style>


        <br />

        <a id="Admin_View" class="navbar-brand" asp-area="" asp-controller="Image" asp-action="Photo_Upload">
            Upload Photo
        </a>
        <a id="Admin_View" class="navbar-brand" asp-area="" asp-controller="Image" asp-action="ViewImage">
            Manage Images
        </a>

        <a id="Admin_View" class="navbar-brand" asp-area="" asp-controller="Image" asp-action="ManageTag">
            Manage Tag
        </a>
        <a id="Admin_View" class="navbar-brand" asp-area="" asp-controller="Image" asp-action="ViewComment">
            Monitor Comments
        </a>




        <div id="Admin_Stuff">



        </div>

    }
    else
    {
        <style>
            #asd {
                display: flex;
                justify-content: flex-end;
            }
        </style>



        <p>
            <h5 class="display-4"><b>Welcome to Classroom Connect</b></h5> <br />
        </p>


        <style>

            .collapsible {
                background-color: darkblue;
                color: white;
                cursor: pointer;
                padding: 10px;
                width: 65%;
                border: 10px unset white;
                border-radius: 5px;
                text-align: center;
                outline: none;
                font-size: 15px;
            }

                .active, .collapsible:hover {
                    background-color: darkorange;
                }

            .content {
                padding: 0 18px;
                display: none;
                overflow: hidden;
                transition: max-height 0.2s ease-out;
            }

            .collapsible:after {
                content: "\25BC"; /* Unicode character for downward arrowhead */
                font-size: 13px;
                color: white;
                float: right;
                margin-left: 5px;
            }

            .active:after {
                content: "\25B2"; /* Unicode character for upward arrowhead) */
            }
        </style>


        <div id="AlumniHome">
            <center>
                <div class="text-center">
                    <p>
                    
                            Find old Dinsmore Elementary classroom photos. Reconnect with your elementary school classmates and teachers. <br />
                            To get started, select the decade. It is not necessary to login.
                 
                    </p>
                </div>
                <button type="button" class="collapsible" id="1950" style="        display: none;">1950s</button>
                <div class="content" id="1950 - 1960" style="display: none;">
                </div>

                <button type="button" class="collapsible" id="1961" style="        display: none;">1960s</button>
                <div class="content" id="1961 - 1970" style="display: none;">

                </div>
                <button type="button" class="collapsible" id="1971" style="        display: none;">1970s</button>
                <div class="content" id="1971 - 1980" style="display: none;">

                </div>
                <button type="button" class="collapsible" id="1981" style="        display: none;">1980s</button>
                <div class="content" id="1981 - 1990" style="display: none;">

                </div>
                <button type="button" class="collapsible" id="1991" style="        display: none;">1990s</button>
                <div class="content" id="1991 - 2000" style="display: none;">

                </div>
                <button type="button" class="collapsible" id="2001" style="        display: none;">2000s</button>
                <div class="content" id="2001 - 2010" style="display: none;">

                </div>
                
                    <a asp-controller="Home" asp-action="Email">
                        <h5>
                            Do you have a classroom photo to add? Click
                            here for details about sharing your photo!
                        </h5>
                    </a>
                
            </center>

        </div>



        <script>
            function createDiv() {



                if (!document.getElementById(arguments[0])) {
                    holder = document.getElementById(arguments[1]);
                    add2 = document.createElement("button");
                    add2.setAttribute("type", "button");
                    add2.setAttribute("class", "collapsible");
                    add2.setAttribute("Id", arguments[0] + "1");


                    add5 = document.createTextNode(arguments[2]);
                    add2.append(add5);

                    add3 = document.createElement("div");
                    add3.setAttribute("class", "content");
                    add3.setAttribute("Id", arguments[0]);



                    holder.append(add2, add3);
                } else {

                }

            }
            function newpage(id) {

                window.location.href = "/Home/ViewPost/" + id;
            }
        </script>

        @if (Model.Count() == 0)
        {
            <script>
                holder = document.getElementById("AlumniHome");

                holder.append("Please request your photo to be upload by email request");
            </script>

        }
        else
        {

            @foreach (var item in Model)
            {


                @if (item.SchoolYearEnd >= 1950 && item.SchoolYearEnd <= 1960)
                {



                    <script>
                        document.getElementById('1950').style.display = "block";

                        createDiv("1950 - 1960" + "@item.SchoolYearEnd.ToString()", "1950 - 1960", "@item.SchoolYearEnd.ToString()");
                        createDiv("1950 - 1960" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "1950 - 1960" + "@item.SchoolYearEnd.ToString()", "@item.Grade");

                        createDiv("1950 - 1960" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "1950 - 1960" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()", "@item.TeacherName.ToString()");

                a = document.getElementById("1950 - 1960" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");

                    </script>





                }
                else if (item.SchoolYearEnd >= 1961 && item.SchoolYearEnd <= 1970)
                {
                    <script>
                        document.getElementById('1961').style.display = "block";

                        createDiv("1961 - 1970" + "@item.SchoolYearEnd.ToString()", "1961 - 1970", "@item.SchoolYearEnd.ToString()");
                        createDiv("1961 - 1970" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "1961 - 1970" + "@item.SchoolYearEnd.ToString()", "@item.Grade");

                        createDiv("1961 - 1970" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "1961 - 1970" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()","@item.TeacherName.ToString()");
    a = document.getElementById("1961 - 1970" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");


                    </script>

                }
                else if (item.SchoolYearEnd >= 1971 && item.SchoolYearEnd <= 1980)
                {
                    <script>
                        document.getElementById('1971').style.display = "block";

    createDiv("1971 - 1980" + "@item.SchoolYearEnd.ToString()", "1971 - 1980", "@item.SchoolYearEnd.ToString()");
    createDiv("1971 - 1980" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "1971 - 1980" + "@item.SchoolYearEnd.ToString()", "@item.Grade");
    createDiv("1971 - 1980" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "1971 - 1980" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()","@item.TeacherName.ToString()");
    a = document.getElementById("1971 - 1980"" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");

                    </script>

                }
                else if (item.SchoolYearEnd >= 1981 && item.SchoolYearEnd <= 1990)
                {
                    <script>
                        document.getElementById('1981').style.display = "block";

                        createDiv("1981 - 1990" + "@item.SchoolYearEnd.ToString()", "1981 - 1990", "@item.SchoolYearEnd.ToString()");
                        createDiv("1981 - 1990" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "1981 - 1990" + "@item.SchoolYearEnd.ToString()", "@item.Grade");
                        createDiv("1981 - 1990" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "1981 - 1990" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()","@item.TeacherName.ToString()");
    a = document.getElementById("1981 - 1990" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");


                    </script>

                }
                else if (item.SchoolYearEnd >= 1991 && item.SchoolYearEnd <= 2000)
                {
                    <script>
                        document.getElementById('1991').style.display = "block";

                        createDiv("1991 - 2000" + "@item.SchoolYearEnd.ToString()", "1991 - 2000", "@item.SchoolYearEnd.ToString()");
                        createDiv("1991 - 2000" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "1991 - 2000" + "@item.SchoolYearEnd.ToString()", "@item.Grade");
                        createDiv("1991 - 2000" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "1991 - 2000" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()","@item.TeacherName.ToString()");
    a = document.getElementById("1991 - 2000" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");


                    </script>

                }
                else if (item.SchoolYearEnd >= 2001 && item.SchoolYearEnd <= 2010)
                {
                    <script>
                        document.getElementById('2001').style.display = "block";

                        createDiv("2001 - 2010" + "@item.SchoolYearEnd.ToString()", "2001 - 2010", "@item.SchoolYearEnd.ToString()");
                        createDiv("2001 - 2010" + "@item.SchoolYearEnd.ToString()" + "@item.Grade", "2001 - 2010" + "@item.SchoolYearEnd.ToString()", "@item.Grade");
                        createDiv("2001 - 2010" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()", "2001 - 2010" + "@item.SchoolYearEnd.ToString()" + "@item.Grade.ToString()","@item.TeacherName.ToString()");
    a = document.getElementById("2001 - 2010" + "@item.SchoolYearEnd.ToString()" + "@item.Grade" + "@item.TeacherName.ToString()" + "1");
                a.setAttribute("onclick", "return newpage(@item.ImageId);");
                    </script>

                }



            }



        }


        <!--fix to model design not html-->




        <script>
            var coll = document.getElementsByClassName("collapsible");
            var i;

            for (i = 0; i < coll.length; i++) {
                coll[i].addEventListener("click", function () {
                    this.classList.toggle("active");
                    var content = this.nextElementSibling;
                    if (content.style.display === "block") {
                        content.style.display = "none";
                    } else {
                        content.style.display = "block";
                    }
                });
            }
        </script>


    }



</div>

